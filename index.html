<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<!--script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script-->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r125/three.js"></script>
	<script src='https://cdn.jsdelivr.net/gh/mrdoob/Three.js@r92/examples/js/loaders/GLTFLoader.js'></script>
	<script src='https://threejs.org/examples/js/controls/OrbitControls.js'></script>
</head>

<body>

	<div class="loader-wrapper">
		  <div class="water"></div>
	</div>

	<nav id="navb" class="navbar navbar-expand-md navbar-dark bg-dark">
		<div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a class="nav-link" href="#" >Page Lagi Satu</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Lagi satu gak</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">last</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Srs last</a>
				</li>
			</ul>
		</div>
		<div class="mx-auto order-0">
			<a class="navbar-brand mx-auto" href=>Kedai Kasut Lepak</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".dual-collapse2">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
		<div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item">
					<a class="nav-link" href="#">Pasal Aku</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Alamat</a>
				</li>
			</ul>
		</div>
	</nav>

	<!---script src="text.js"></script-->
		<!--nav id="navb" class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="navbar-collapse collapse w-100 dual-collapse2 order-1 order-md-0">
				<ul class="navbar-nav ml-auto text-center">
					<li class="nav-item">
						<a class="nav-link" href="#">Satu page</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Page Lagi Satu</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Lagi satu gak</a>
					</li>
				</ul>
			</div>
			<div class="mx-auto my-2 order-0 order-md-1 position-relative">
				<a class="mx-auto" href=>
					<img src="//placehold.it/120/ccff00" class="rounded-circle">
				</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".dual-collapse2">
					<span class="navbar-toggler-icon"></span>
				</button>
			</div>
			<div class="navbar-collapse collapse w-100 dual-collapse2 order-2 order-md-2">
				<ul class="navbar-nav mr-auto text-center">
					<li class="nav-item">
						<a class="nav-link" href="#">page lagi satu</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">lagi satu gak</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">About Kita</a>
					</li>    
				</ul>
			</div>
		</nav-->



		<!--nav class="navbar navbar-expand-sm bg-dark navbar-dark">
			<a class="navbar-brand" href="#">K-Die</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="collapsibleNavbar">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" href="#">page lagi satu</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">lagi satu gak</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">About Kita</a>
					</li>    
				</ul>
			</div>  
		</nav-->

	<!--script src="OrbitControls.js"></script-->

	<div class="btn-group dropup" id="dup">
	  <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Laces
	  </button>
	  <div class="dropdown-menu">
		<a class="dropdown-item" role="button">Laces</a>
		<a class="dropdown-item" role="button">RivetT</a>
		<a class="dropdown-item" role="button">RivetB</a>
		<a class="dropdown-item" role="button">Tongue</a>
		<a class="dropdown-item" role="button">Converse</a>
		<div class="dropdown-divider"></div>
		<a class="dropdown-item" href=>Start Over</a>
	  </div>
	</div>

	<input id="toggle-event" type="checkbox" data-toggle="toggle">

	<script>
		var scene = new THREE.Scene();
		var camera = new THREE.PerspectiveCamera(4,window.innerWidth/window.innerHeight,0.1,1000)
		camera.position.z=7;
		var renderer = new THREE.WebGLRenderer({antialias: true});
		renderer.setClearColor("#f1f2ed");
		renderer.setSize(window.innerWidth,window.innerHeight);
		document.body.appendChild(renderer.domElement);
		window.addEventListener('resize', () => {
			renderer.setSize(window.innerWidth,window.innerHeight);
			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();
		})

		var loader = new THREE.GLTFLoader();
		var model;
		loader.load('shoe.glb', function ( gltf ) {
			model = gltf.scene;
			gltf.scene.position.set(0,-0.1,0);
			gltf.scene.rotation.set(0,-1,0);
			scene.add( gltf.scene );

		}, undefined, function ( error ) {
			console.error( error );
		});

		var controls = new THREE.OrbitControls( camera, renderer.domElement );
		controls.update();
		controls.enablePan = false;
		//controls.addEventListener( 'change', render );

		/*var geometry = new THREE.BoxGeometry(1, 1, 1);
		var material = new THREE.MeshLambertMaterial({color: 0xF7FFF7});
		var mesh = new THREE.Mesh(geometry, material);

		//mesh.position.set(1,2,3);

		scene.add(mesh);*/

		var light = new THREE.PointLight(0xFFFFFF, 1, 200)
		light.position.set(1,0,5);
		camera.add(light);
		scene.add(camera);

		var render = function(){
			requestAnimationFrame(render);
			//mesh.rotation.y += 0.003;
			if(model)
				model.rotation.y += 0.003;
				//console.log(model.rotation.y);
			//controls.update();
			renderer.render(scene, camera);
		}

		render();

	</script>

	<div class="d-flex align-items-center justify-content-center" id="color" >

	<script>
		$(".dropdown-menu a").click(function(){
			$(".btn:first-child").html($(this).text()+'<span class="caret"></span>');
		});

		function boxed(parent, type, mtl) {
			parent.traverse((o) => {
			if (o.isMesh && o.name != null) {
				if (o.name.includes(type)) {
					o.material = mtl;
				}
			}
			});
		}

		var col = ['#4e468b', '#acc0d9', '#273347', '#f1f2f1', '#848487', '#6a6a6a', '#000000', '#ede6de', '#a68054', '#bd6827', '#d7ae5c', '#58333e', '#007c64', '#efa5c8', '#98e2cf', '#b81b36', '#ffd300', '#3a607a', '#00599a', '#00afac', '#ff276b', '#ebd7d1','#3e402a','#5f3c24','#f66316','#dd4399'];

		let i,x="Laces",new_mtl;
		for (i=0; i < col.length; i++) {
			let tag = document.createElement("div");
			tag.className="warna";
			tag.id=col[i];
			tag.style.backgroundColor = col[i];

			$(".dropdown-menu a").click(function () {
				x = $(this).text();
			});

			tag.addEventListener('click',function() {
				let color;
				new_mtl = new THREE.MeshPhongMaterial({
				color: parseInt(tag.id.replace('#','0x')),
				});
				boxed(model,x,new_mtl);
			});
			document.getElementById("color").appendChild(tag);
		}

		/*for (let i = 0; i < col.length; i++) {
			let tag = document.getElementById(col[i]);
			tag.addEventListener('click',function() {
				let color;
				let new_mtl = new THREE.MeshPhongMaterial({
				color: parseInt(tag.id.replace('#','0x')),
				//shininess: color.shininess ? color.shininess : 10
				
				});
				console.log(tag.id);
				boxed(model,"cushions",new_mtl);
			},false);
		}
		*/

		 $(function() {
		    $('#toggle-event').change(function() {
		      //$('#console-event').html('Toggle: ' + $(this).prop('checked'))
		    })
		  })
	</script>

	<script>

		function next(){
			$(".loader-wrapper").fadeOut("slow");
		}

		$(window).on("load",function(){
			setTimeout(next, 3000);
			
		});

	</script>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</body>
</html>